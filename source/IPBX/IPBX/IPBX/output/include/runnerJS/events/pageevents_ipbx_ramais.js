
var pType=Runner.pages.constants.PAGE_EDIT;Runner.pages.PageSettings.addPageEvent("ipbx_ramais",pType,"afterPageReady",function(pageObj,proxy,pageid,inlineRow,inlineObject){;});var pType=Runner.pages.constants.PAGE_EDIT;Runner.pages.PageSettings.addPageEvent("ipbx_ramais",pType,"afterPageReady",function(pageObj,proxy,pageid){pageObj.buttonNames[pageObj.buttonNames.length]='REMOVER_RAMAL';if(!pageObj.buttonEventBefore['REMOVER_RAMAL']){pageObj.buttonEventBefore['REMOVER_RAMAL']=function(params,ctrl,pageObj,proxy,pageid,rowData){}}
if(!pageObj.buttonEventAfter['REMOVER_RAMAL']){pageObj.buttonEventAfter['REMOVER_RAMAL']=function(result,ctrl,pageObj,proxy,pageid,rowData){var message=result["txt"]+" !!!";ctrl.setMessage(message);}}
$('a[id=REMOVER_RAMAL]').each(function(){if(!$(this).closest('tr.gridRowAdd').length){var newId="REMOVER_RAMAL"+"_"+Runner.genId();this.id=newId;var button_REMOVER_RAMAL=new Runner.form.Button({id:newId,btnName:"REMOVER_RAMAL"});button_REMOVER_RAMAL.init({args:[pageObj,proxy,pageid]});}});});var pType=Runner.pages.constants.PAGE_LIST;Runner.pages.PageSettings.addPageEvent("ipbx_ramais",pType,"afterPageReady",function(pageObj,proxy,pageid){pageObj.buttonNames[pageObj.buttonNames.length]='Restaurar_Ramal';if(!pageObj.buttonEventBefore['Restaurar_Ramal']){pageObj.buttonEventBefore['Restaurar_Ramal']=function(params,ctrl,pageObj,proxy,pageid,rowData){var ok=confirm('Aceita restauração do ramal selecionado para padrão de fábrica ?');if(ok){params["txt"]="Aplicando configuração";ctrl.setMessage("Restaurando... Aguarde !!!");}else{params["txt"]="CANCELA";}}}
if(!pageObj.buttonEventAfter['Restaurar_Ramal']){pageObj.buttonEventAfter['Restaurar_Ramal']=function(result,ctrl,pageObj,proxy,pageid,rowData){var message=result["txt"];ctrl.setMessage(message);window.location.reload(true);}}
$('a[id=Restaurar_Ramal]').each(function(){if(!$(this).closest('tr.gridRowAdd').length){var newId="Restaurar_Ramal"+"_"+Runner.genId();this.id=newId;var button_Restaurar_Ramal=new Runner.form.Button({id:newId,btnName:"Restaurar_Ramal"});button_Restaurar_Ramal.init({args:[pageObj,proxy,pageid]});}});});